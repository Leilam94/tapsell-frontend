<div class="task-container">
  <div class="task-details">
    <div class="task-details-icon">
      <ng-container *ngIf="!isLoading; else loading">
        <mat-icon color="primary" aria-hidden="false" aria-label="done icon"
          >done</mat-icon
        >
      </ng-container>
      <ng-template #loading>
        <mat-spinner diameter="20"></mat-spinner>
      </ng-template>
      <p>
        {{ task!.title }}
      </p>
    </div>
    <p class="task-description">{{ task!.description }}</p>
    <mat-chip-list aria-label="date">
      <mat-chip class="task-date">{{ task!.date | date }}</mat-chip>
    </mat-chip-list>
  </div>
  <div class="task-action-buttons">
    <button  *ngIf="!isMobileScreen()" mat-button color="primary" (click)="onMoveBackToUncomplete(task)">
      MARK UNCOMPLETE
    </button>
    <button  *ngIf="!isMobileScreen()" mat-button color="accent" (click)="onDeleteTask(task!._id)">
      DELETE
    </button>
    <button *ngIf="isMobileScreen()" mat-icon-button [matMenuTriggerFor]="menu" aria-label="menu icon" color="accent">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="onMoveBackToUncomplete(task)">
        <mat-icon>task_alt</mat-icon>
        <span>Mark uncomplete</span>
      </button>
      <button mat-menu-item (click)="onDeleteTask(task!._id)">
        <mat-icon>delete</mat-icon>
        <span>Delete Task</span>
      </button>
    </mat-menu>
  </div>
</div>
